
@{
    ViewData["Title"] = "Cadastro";
    Layout = "~/Views/_Layout.cshtml";
}

<br />

@if (TempData["MensagemSucesso"] != null)
{
    <div class="alert alert-success alert-dismissible">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        <strong>@TempData["MensagemSucesso"]</strong>
    </div>
}

@if (TempData["MensagemErro"] != null)
{
    <div class="alert alert-danger alert-dismissible">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        <strong>@TempData["MensagemErro"]</strong>
    </div>
}

<br />

<div class="row">
    <div class="col-md-8">
        <h4>Cadastro</h4>

        <form method="post" action="/netfilmes/filmes/salvar">
            <input type="hidden" name="Id" value="@(ViewBag.Filme != null ? ViewBag.Filme.Id : "")" />

            <div class="form-group">
                <label>Nome</label>
                <input type="text" class="form-control" name="Nome" value="@(ViewBag.Filme != null ? ViewBag.Filme.Nome : "")">
            </div>

            <div class="checkbox">
                <label>
                    <input type="checkbox" name="Ativo" value="true" @(ViewBag.Filme != null && ViewBag.Filme.Ativo ? "checked" : "")> Ativo
                </label>
            </div>

            <div class="form-group">
                <label>Gênero</label>
                <select class="form-control" name="GeneroId">
                    <option value="-1">Selecione</option>

                    @if (ViewBag.GenerosAtivos != null && ViewBag.GenerosAtivos.Count > 0)
                    {
                        @foreach (var genero in ViewBag.GenerosAtivos)
                        {
                            @if (ViewBag.Filme != null && ViewBag.Filme.GeneroId == genero.Id)
                            {
                                <option value="@genero.Id" selected>@genero.Nome</option>
                            }
                            else
                            {
                                <option value="@genero.Id">@genero.Nome</option>
                            }
                        }
                    }

                </select>
            </div>

            <button type="submit" class="btn btn-primary">Salvar</button>
        </form>
    </div>
</div>


